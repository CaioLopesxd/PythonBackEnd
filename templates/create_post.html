{% extends 'base.html' %} {% block content %}

<section class="container-sm mt-4">
  <form
    action="{{ url_for('create_post') }}"
    method="POST"
    enctype="multipart/form-data"
    class="needs-validation"
    novalidate
  >
    <div class="mb-4">
      <label for="titulo" class="form-label">Título</label>
      <input
        type="text"
        name="titulo"
        id="titulo"
        class="form-control"
        placeholder="Digite o título do post"
        required
      />
      <div class="invalid-feedback">Por favor, insira um título.</div>
    </div>

    <div class="mb-4">
      <label for="conteudo" class="form-label">Conteúdo</label>
      <textarea
        name="conteudo"
        id="conteudo"
        class="form-control"
        placeholder="Escreva o conteúdo do post"
        rows="10"
        required
      ></textarea>
      <div class="invalid-feedback">Por favor, insira o conteúdo do post.</div>
    </div>

    <div class="mb-4">
      <label for="imagem" class="form-label">Imagem</label>
      <input type="file" name="imagem" id="imagem" class="form-control" />
    </div>

    <div class="d-flex justify-content-end">
      <button
        type="submit"
        class="btn btn-outline-dark"
        data-mdb-ripple-init
        data-mdb-ripple-color="dark"
      >
        Criar Post
      </button>
    </div>
  </form>

  <div class="mt-3">
    {% with messages = get_flashed_messages() %} {% if messages %}
    <div class="alert alert-danger" role="alert">
      <ul class="mb-0">
        {% for message in messages %}
        <li>{{ message }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %} {% endwith %}
  </div>
</section>

{% endblock %}
